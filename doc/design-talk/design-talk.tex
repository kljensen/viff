\documentclass[t,noamsthm]{beamer}

\mode<presentation>
{
  \usetheme{Goettingen}
  \setbeamercovered{transparent}
  \setbeamertemplate{navigation symbols}{}
}

\usepackage[english]{babel}
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
%\usepackage{arev}

\title[PySMPC]{Python Secure Multi-Party Computation}

\subtitle{High-Level Design Overview}

\author{Martin Geisler}

\institute[BRICS]{
  BRICS\\
  Department of Computer Science\\
  University of Aarhus
}

\date{September 20th, 2007}

% \pgfdeclareimage[height=0.5cm]{university-logo}{university-logo-filename}
% \logo{\pgfuseimage{university-logo}}

% If you wish to uncover everything in a step-wise fashion, uncomment
% the following command: 
%\beamerdefaultoverlayspecification{<+->}

\usepackage{tikz}

\newcommand{\rulecolor}{structure!60}
\newcommand{\fillcolor}{structure!15}

\tikzstyle{every node}=[circle,fill=\fillcolor,draw=\rulecolor]


\usepackage{listings}
\lstset{
  language=Python,
  basicstyle=\footnotesize,
  columns=fullflexible,
  showstringspaces=false,
  frame=single,
  rulecolor=\color{\rulecolor},
  backgroundcolor=\color{\fillcolor}
}
\newcommand{\py}[1]{\lstinline|#1|}

\usepackage{nath} \delimgrowth=2

\begin{document}

\begin{frame}
  \titlepage
\end{frame}

%\begin{frame}{Outline}
%  \tableofcontents
%  % You might wish to add the option [pausesections]
%\end{frame}

\section{Overview}

\begin{frame}{PySMPC Features}

  \begin{itemize}

  \item API for writing secure multi-party computations
    \begin{itemize}
    \item Simple if you already know Python
    \item A custom language can be added afterwards
    \end{itemize}

  \item<2-> Efficient asynchronous design
    \begin{itemize}
    \item Single-threaded (no locks!)
    \end{itemize}

  \item<3-> Simple architecture
    \begin{itemize}
    \item Few layers of abstraction\dots
    \item \dots but hopefully sufficiently many
    \end{itemize}

  \end{itemize}

\end{frame}

\begin{frame}{Example}

  \begin{columns}

    \column{0.5\textwidth}

    \centering
    \begin{tikzpicture}
      \draw (0,0) + (90:2cm) node {$P_1$} +(210:2cm) node {$P_2$}
      +(330:2cm) node {$P_3$};
    \end{tikzpicture}

    \column{0.5\textwidth}

    \begin{itemize}
    \item Players $X$, $Y$, and $Z$
    \item Sharing $x$, $y$, and $z$
    \item Computes $(x+y)\cdot z$
    \item Opens the result
    \end{itemize}

  \end{columns}
\end{frame}

\begin{frame}[fragile]

\frametitle{Example PySMPC Program}

\begin{lstlisting}
import sys
from pysmpc import runtime, config, util, field

Z31 = field.GF(31)

my_id, conf = config.load_config(sys.argv[1])
my_input = Z31(int(sys.argv[2]))

rt = runtime.Runtime(players=conf, id=my_id, threshold=1)

x, y, z = rt.shamir_share(input)
result = rt.mul(rt.add(x, y), z)

rt.open(result)
util.dprint("Result: %s", result)

rt.wait_for(result)
\end{lstlisting}

\end{frame}

\begin{frame}{Asynchronous Design}
  \begin{itemize}
  \item Operations wait on their operands
  \item Results are sent when ready
  \item No rounds
  \end{itemize}
  I call this ``greedy scheduling''.
\end{frame}

\begin{frame}{Greedy Scheduling}
  Advantages:
  \begin{itemize}
  \item At least as good as round-based scheduling
  \item No cost when adding new primitives
  \end{itemize}

  Disadvantages:
  \begin{itemize}
  \item Not yet proven secure\dots
  \item Somewhat complicated to keep track of operations
  \end{itemize}
\end{frame}


\subsection{Current Status}

\begin{frame}{Model}
  \begin{itemize}
  \item Fixed number of players
  \item Executes a symmetric protocol
  \end{itemize}
\end{frame}

\begin{frame}{What is Implemented?}
  \begin{itemize}
  \item Shamir sharing
  \item PRSS
  \item Opening
  \item Addition, multiplication, exclusive-or
  \item Classic SCET comparison
  \end{itemize}
\end{frame}

\begin{frame}{Security Setting}
  \begin{itemize}
  \item Passive and static adversary
  \item Threshold adversary structure, $t < \frac n 2$
  \end{itemize}
\end{frame}


\section{Design}

\subsection{Deferreds}

\begin{frame}[fragile]

\frametitle{Deferreds in Twisted}

\begin{lstlisting}
from twisted.web.client import getPage

def printContents(contents):
    print "The Deferred has called printContents with:"
    print contents

deferred = getPage("http://www.daimi.au.dk/")

deferred.addCallback(printContents)
\end{lstlisting}

Result:
\begin{lstlisting}[language={}]
The Deferred has called printContents with:
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 ...
\end{lstlisting}

\end{frame}


\section{Extensions}

\begin{frame}{Extensions}

  \begin{itemize}
  \item Active security
    \begin{itemize}
    \item Requires error handling
    \end{itemize}

  \item Full $t = n-1$ threshold
    \begin{itemize}
    \item Properly only requires new sharing primitives
    \end{itemize}
  \end{itemize}

\end{frame}

\end{document}
